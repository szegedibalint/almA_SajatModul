@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<Christoc.Modules.habibibabu.Models.RendelesViewModel>

@using System.Collections.Generic
@using DotNetNuke.Web.Mvc.Helpers



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


<div id="Item-@Dnn.ModuleContext.ModuleId">
    <div class="dnnFormItem">
        <div><label for="rendelesName">@Dnn.LocalizeString("lblDarab")</label></div>
        <input type="number" id="Darabszam" name="Rendeles.Darabszam" value="@Model.Rendeles.Darabszam" min="1" required />
    </div>
    <div class="dnnFormItem">
        <div><label for="megjegyzes">@Dnn.LocalizeString("lblMegjegyzes")</label></div>
        @Html.TextArea("Rendeles.Megjegyzes", Model.Rendeles.Megjegyzes)
    </div>
    <div class="dnnFormItem">
        <div><label for="itemUser">@Dnn.LocalizeString("lblNyomttech")</label></div>
        @{
            var Nyomttech = new[]
            {
                new { NyomtTech = 1, Technologia = "FDM" },
                new { NyomtTech = 2, Technologia = "SLA" },
                new { NyomtTech = 3, Technologia = "SLS" },
                new { NyomtTech = 4, Technologia = "DMP (Fém)" },
                new { NyomtTech = 5, Technologia = "CFC Kompozit" }
            };
            var nyomttechlist = new SelectList(Nyomttech, "NyomtTech", "Technologia");
        }
        @Html.DropDownListFor(m => m.Rendeles.NyomtTech, nyomttechlist)
    </div>
    <div class="dnnFormItem">
        <div><label>@Dnn.LocalizeString("lblTulajdonsag")</label></div>
        @{
            var tulajdonsag = new[]
            {
                new { TulId = 1, Tulajdonsag = "70 foknál magasabb hőállóság" },
                new { TulId = 2, Tulajdonsag = "Kémiai ellenállóság" },
                new { TulId = 3, Tulajdonsag = "Magas szilárdság" },
                new { TulId = 4, Tulajdonsag = "UV ellenállóság" },
            };
        }

        @foreach (var item in tulajdonsag)
        {
            <div>
                <input type="checkbox" id="TulId_@(item.TulId)" name="TulId" value="@item.TulId" />
                <label for="TulId_@(item.TulId)">@item.Tulajdonsag</label>
            </div>
        }
    </div>
    <div class="dnnFormItem">
        <div><label>@Dnn.LocalizeString("lblAtfutido")</label></div>
        <div>
            <label>
                @Html.RadioButtonFor(m => m.Rendeles.AtfutIdo, 1, new { id = "atfutido1" })
                <span>Standard szolgáltatás (3-7 munkanap)</span>
            </label>
        </div>
        <div>
            <label>
                @Html.RadioButtonFor(m => m.Rendeles.AtfutIdo, 2, new { id = "atfutido2" })
                <span>Expressz szolgáltatás (1-3 munkanap)</span>
            </label>
        </div>
        <div>
            <label>
                @Html.RadioButtonFor(m => m.Rendeles.AtfutIdo, 3, new { id = "atfutido3" })
                <span>Expressz+ szolgáltatás (24 órán belül)</span>
            </label>
        </div>

    </div>
    @Html.HiddenFor(m => m.Rendeles.ModuleId)

    <div>
        <button type="button" id="submitid" class="dnnPrimaryAction">@Dnn.LocalizeString("Submit")</button>
        <a id="cancelEdit" href="#" class="dnnSecondaryAction">@Dnn.LocalizeString("Cancel")</a>
    </div>
</div>


<script type="text/javascript">
    (function ($, Sys) {
    $(function () {
        var form = document.forms[0];

        $('#submitid').click(function () {
            fetch(form.action, {
                method: form.method,
                body: new FormData(form)
            }).then(data => {
                swal({
                    title: "SIKERES AJÁNLATKÜLDÉS!",
                    text: "Csapatunk hamarosan felveszi Önnel a kapcsolatot. Rendelés száma: @ViewBag.SwalText Köszönjük, hogy minket választott! Üdvözlettel: CORVIN 3D",
                    icon: "success",
                    buttons: {
                        confirm: {
                            text: "VISSZA A FŐOLDALRA",
                            value: true,
                            visible: true,
                            className: "sweet-alert-confirm-btn",
                            closeModal: false // A swal ablak most nem záródik automatikusan
                        }
                    },
                    className: "sweet-alert-centered"
                }).then((value) => {
                    if (value) {
                        window.location.href = "http://dnndev.me/en-us/";
                    } else {
                        document.forms[0].reset();
                    }
                });
            }).catch(error => {
                console.error('Hiba történt:', error);
                // Kezeld a hibát itt
            });
        });
    });
})(jQuery, window.Sys);







</script>










